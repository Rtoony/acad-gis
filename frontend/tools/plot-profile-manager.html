<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Plot & Profile Manager | ACAD-GIS</title>
  <link rel="stylesheet" href="../shared/styles.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body class="grid-background">
  <div id="root"></div>

  <script src="../shared/components.js"></script>
  <script src="../shared/react-components.js"></script>
  <script src="../shared/api.js"></script>

  <script type="text/babel">
    const { useState } = React;

    function PlotProfileManager() {
      const [jobName, setJobName] = useState('Sample Plot Job');
      const [format, setFormat] = useState('dxf');

      const doExport = async () => {
        try {
          const res = await API.request('POST', `/export/${format}`, { data: { jobName } });
          alert((res && res.message) || 'Export request sent');
        } catch (e) {
          alert(e.message || 'Export failed');
        }
      };

      return (
        React.createElement('div', { className: 'page-wrapper' },
          React.createElement('header', { className: 'header' },
            React.createElement('div', { className: 'header-content' },
              React.createElement('div', { className: 'header-title' },
                React.createElement('h1', null, 'Plot & Profile Manager'),
                React.createElement('div', { className: 'header-subtitle' }, 'Configure exports without a CAD engine')
              )
            )
          ),
          React.createElement('main', { className: 'main-content' },
            React.createElement('div', { className: 'container' },
              React.createElement('div', { className: 'card' },
                React.createElement('div', { className: 'card-header' },
                  React.createElement('div', { className: 'card-title' }, 'Export'),
                ),
                React.createElement('div', { className: 'card-body' },
                  React.createElement('div', { className: 'grid grid-cols-3 gap-md' },
                    React.createElement('div', null,
                      React.createElement('div', { className: 'text-muted' }, 'Job Name'),
                      React.createElement('input', { className: 'form-input', value: jobName, onChange: e => setJobName(e.target.value) })
                    ),
                    React.createElement('div', null,
                      React.createElement('div', { className: 'text-muted' }, 'Format'),
                      React.createElement('select', { className: 'form-input', value: format, onChange: e => setFormat(e.target.value) },
                        React.createElement('option', { value: 'dxf' }, 'DXF'),
                        React.createElement('option', { value: 'landxml' }, 'LandXML'),
                        React.createElement('option', { value: 'svg' }, 'SVG'),
                        React.createElement('option', { value: 'json' }, 'JSON')
                      )
                    ),
                    React.createElement('div', { className: 'flex items-center' },
                      React.createElement('button', { className: 'btn btn-primary', onClick: doExport },
                        React.createElement('i', { className: 'fas fa-file-export' }), ' Export'
                      )
                    )
                  )
                )
              )
            )
          )
        )
      );
    }

    ReactDOM.createRoot(document.getElementById('root')).render(React.createElement(PlotProfileManager));
  </script>
</body>
</html>
